# FoxFile

AI-powered file organization that actually works. Upload a messy folder (as .zip), get a clean, organized structure back.

![FoxFile](public/logo.png)

## Features

- **AI-Powered Organization** - Uses LLMs to intelligently categorize and organize your files
- **BYOK (Bring Your Own Key)** - Use your own OpenRouter API key for complete control
- **Privacy-First** - Files are processed transiently and auto-deleted after 3 days
- **Multiple Output Options** - Download organized zip or shell script to apply locally
- **Before/After Preview** - Review the proposed organization before applying

## Tech Stack

- **Frontend**: Next.js 15, React, Tailwind CSS, Framer Motion
- **Backend**: Convex (database, serverless functions, file storage)
- **Auth**: Clerk
- **AI**: OpenRouter (supports GPT-4, Claude, Gemini, Llama, etc.)

## Getting Started

### Prerequisites

- Node.js 18+
- npm or yarn
- A [Convex](https://convex.dev) account (free)
- A [Clerk](https://clerk.com) account (free)
- An [OpenRouter](https://openrouter.ai) API key (BYOK - users provide their own)

### 1. Clone the repository

```bash
git clone https://github.com/charrlodin/file-fox-droid.git
cd file-fox-droid
npm install
```

### 2. Set up Convex

```bash
npx convex dev
```

This will prompt you to log in and create a new Convex project. Follow the prompts.

### 3. Set up Clerk

1. Create a new application at [clerk.com](https://clerk.com)
2. Copy your API keys from the Clerk dashboard
3. Add them to your `.env.local`:

```env
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_...
CLERK_SECRET_KEY=sk_test_...
```

### 4. Connect Clerk to Convex

1. In Clerk Dashboard, go to **JWT Templates** → **New Template** → **Convex**
2. Copy the Issuer URL (looks like `https://your-app.clerk.accounts.dev`)
3. In Convex Dashboard, go to **Settings** → **Environment Variables**
4. Add `CLERK_JWT_ISSUER_DOMAIN` with the Issuer URL value

### 5. Configure Convex Auth

Update `convex/auth.config.ts` to use your Clerk domain:

```ts
export default {
  providers: [
    {
      domain: process.env.CLERK_JWT_ISSUER_DOMAIN,
      applicationID: "convex",
    },
  ],
};
```

### 6. Run the development server

```bash
npm run dev
```

Open [http://localhost:3000](http://localhost:3000) to see the app.

## Environment Variables

### Required (`.env.local`)

```env
# Convex (auto-generated by `npx convex dev`)
CONVEX_DEPLOYMENT=dev:your-deployment
NEXT_PUBLIC_CONVEX_URL=https://your-deployment.convex.cloud

# Clerk
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_...
CLERK_SECRET_KEY=sk_test_...
```

### Convex Dashboard Environment Variables

```env
CLERK_JWT_ISSUER_DOMAIN=https://your-app.clerk.accounts.dev
```

## How It Works

1. **Sign Up** - Create an account with Clerk
2. **Add API Key** - Enter your OpenRouter API key in Settings
3. **Upload** - Drop a .zip file of your messy folder
4. **Review** - AI analyzes and proposes an organization plan
5. **Download** - Get the organized zip or a shell script to apply locally

## Architecture

```
├── app/                    # Next.js App Router pages
│   ├── page.tsx           # Landing page
│   ├── dashboard/         # User dashboard
│   ├── session/[id]/      # Session view (analysis, plan, download)
│   └── about/             # About page
├── components/            # React components
│   ├── landing/           # Landing page components
│   ├── session/           # Session-related components
│   └── ApiKeyModal.tsx    # BYOK modal
├── convex/                # Convex backend
│   ├── schema.ts          # Database schema
│   ├── sessions.ts        # Session management
│   ├── users.ts           # User settings (API keys)
│   ├── analyze.ts         # AI analysis action
│   ├── process.ts         # File processing action
│   └── cleanup.ts         # Auto-cleanup cron job
└── public/                # Static assets
```

## Privacy & Security

- **Transient Processing**: Files are stored temporarily and auto-deleted after 3 days
- **No File Content Logging**: Only file names/paths are sent to AI for organization
- **BYOK**: Your API key is stored per-user and never shared
- **User-Controlled**: Delete your sessions and files anytime

## Limits

| Feature | Limit |
|---------|-------|
| Max file size | 500MB |
| Max files per upload | 200 |
| File retention | 3 days |

## Deployment

### Vercel (Recommended)

1. Push to GitHub
2. Import to [Vercel](https://vercel.com)
3. Add environment variables in Vercel dashboard
4. Deploy

### Convex Production

```bash
npx convex deploy
```

Update your Vercel environment variables with the production Convex URL.

## Contributing

Contributions are welcome! Please open an issue or submit a PR.

## License

MIT License - see [LICENSE](LICENSE) for details.

## Credits

Built with:
- [Next.js](https://nextjs.org/)
- [Convex](https://convex.dev/)
- [Clerk](https://clerk.com/)
- [OpenRouter](https://openrouter.ai/)
- [Tailwind CSS](https://tailwindcss.com/)
- [Framer Motion](https://www.framer.com/motion/)
